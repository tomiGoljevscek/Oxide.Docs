
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Oxide API for Rust Legacy</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all.js"></script>
  </head>

  <body class="rust-legacy rust-legacy_index" data-languages="[&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <a href="/" id="logo">
        <img src="../images/logo.png" class="logo" alt="Logo" />
      </a>
        <div class="lang-selector">
              <a href="#" data-language-name="csharp">csharp</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#getting-started" class="toc-h1 toc-link" data-title="Getting Started">Getting Started</a>
          </li>
          <li>
            <a href="#universal-hooks" class="toc-h1 toc-link" data-title="Universal Hooks">Universal Hooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#init" class="toc-h2 toc-link" data-title="Init">Init</a>
                  </li>
                  <li>
                    <a href="#loaded" class="toc-h2 toc-link" data-title="Loaded">Loaded</a>
                  </li>
                  <li>
                    <a href="#unload" class="toc-h2 toc-link" data-title="Unload">Unload</a>
                  </li>
                  <li>
                    <a href="#loaddefaultconfig" class="toc-h2 toc-link" data-title="LoadDefaultConfig">LoadDefaultConfig</a>
                  </li>
                  <li>
                    <a href="#loaddefaultmessages" class="toc-h2 toc-link" data-title="LoadDefaultMessages">LoadDefaultMessages</a>
                  </li>
                  <li>
                    <a href="#onframe" class="toc-h2 toc-link" data-title="OnFrame">OnFrame</a>
                  </li>
                  <li>
                    <a href="#onpluginloaded" class="toc-h2 toc-link" data-title="OnPluginLoaded">OnPluginLoaded</a>
                  </li>
                  <li>
                    <a href="#onpluginunloaded" class="toc-h2 toc-link" data-title="OnPluginUnloaded">OnPluginUnloaded</a>
                  </li>
                  <li>
                    <a href="#onserverinitialized" class="toc-h2 toc-link" data-title="OnServerInitialized">OnServerInitialized</a>
                  </li>
                  <li>
                    <a href="#onserversave" class="toc-h2 toc-link" data-title="OnServerSave">OnServerSave</a>
                  </li>
                  <li>
                    <a href="#onpermissionregistered" class="toc-h2 toc-link" data-title="OnPermissionRegistered">OnPermissionRegistered</a>
                  </li>
                  <li>
                    <a href="#ongrouppermissiongranted" class="toc-h2 toc-link" data-title="OnGroupPermissionGranted">OnGroupPermissionGranted</a>
                  </li>
                  <li>
                    <a href="#ongrouppermissionrevoked" class="toc-h2 toc-link" data-title="OnGroupPermissionRevoked">OnGroupPermissionRevoked</a>
                  </li>
                  <li>
                    <a href="#ongroupcreated" class="toc-h2 toc-link" data-title="OnGroupCreated">OnGroupCreated</a>
                  </li>
                  <li>
                    <a href="#ongroupdeleted" class="toc-h2 toc-link" data-title="OnGroupDeleted">OnGroupDeleted</a>
                  </li>
                  <li>
                    <a href="#ongrouptitleset" class="toc-h2 toc-link" data-title="OnGroupTitleSet">OnGroupTitleSet</a>
                  </li>
                  <li>
                    <a href="#ongrouprankset" class="toc-h2 toc-link" data-title="OnGroupRankSet">OnGroupRankSet</a>
                  </li>
                  <li>
                    <a href="#ongroupparentset" class="toc-h2 toc-link" data-title="OnGroupParentSet">OnGroupParentSet</a>
                  </li>
                  <li>
                    <a href="#onusernameupdated" class="toc-h2 toc-link" data-title="OnUserNameUpdated">OnUserNameUpdated</a>
                  </li>
                  <li>
                    <a href="#onusergroupadded" class="toc-h2 toc-link" data-title="OnUserGroupAdded">OnUserGroupAdded</a>
                  </li>
                  <li>
                    <a href="#onusergroupremoved" class="toc-h2 toc-link" data-title="OnUserGroupRemoved">OnUserGroupRemoved</a>
                  </li>
                  <li>
                    <a href="#onuserpermissiongranted" class="toc-h2 toc-link" data-title="OnUserPermissionGranted">OnUserPermissionGranted</a>
                  </li>
                  <li>
                    <a href="#onuserpermissionrevoked" class="toc-h2 toc-link" data-title="OnUserPermissionRevoked">OnUserPermissionRevoked</a>
                  </li>
                  <li>
                    <a href="#onuserkicked" class="toc-h2 toc-link" data-title="OnUserKicked">OnUserKicked</a>
                  </li>
                  <li>
                    <a href="#onuserbanned" class="toc-h2 toc-link" data-title="OnUserBanned">OnUserBanned</a>
                  </li>
                  <li>
                    <a href="#onuserunbanned" class="toc-h2 toc-link" data-title="OnUserUnbanned">OnUserUnbanned</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#server-hooks" class="toc-h1 toc-link" data-title="Server Hooks">Server Hooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onruncommand" class="toc-h2 toc-link" data-title="OnRunCommand">OnRunCommand</a>
                  </li>
                  <li>
                    <a href="#ondatablocksinitialized" class="toc-h2 toc-link" data-title="OnDatablocksInitialized">OnDatablocksInitialized</a>
                  </li>
                  <li>
                    <a href="#onresourcenodeloaded" class="toc-h2 toc-link" data-title="OnResourceNodeLoaded">OnResourceNodeLoaded</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#player-hooks" class="toc-h1 toc-link" data-title="Player Hooks">Player Hooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onuserapprove" class="toc-h2 toc-link" data-title="OnUserApprove">OnUserApprove</a>
                  </li>
                  <li>
                    <a href="#canclientlogin" class="toc-h2 toc-link" data-title="CanClientLogin">CanClientLogin</a>
                  </li>
                  <li>
                    <a href="#onplayerconnected" class="toc-h2 toc-link" data-title="OnPlayerConnected">OnPlayerConnected</a>
                  </li>
                  <li>
                    <a href="#onplayerdisconnected" class="toc-h2 toc-link" data-title="OnPlayerDisconnected">OnPlayerDisconnected</a>
                  </li>
                  <li>
                    <a href="#onplayerspawn" class="toc-h2 toc-link" data-title="OnPlayerSpawn">OnPlayerSpawn</a>
                  </li>
                  <li>
                    <a href="#onplayerchat" class="toc-h2 toc-link" data-title="OnPlayerChat">OnPlayerChat</a>
                  </li>
                  <li>
                    <a href="#onplayervoice" class="toc-h2 toc-link" data-title="OnPlayerVoice">OnPlayerVoice</a>
                  </li>
                  <li>
                    <a href="#onitemcraft" class="toc-h2 toc-link" data-title="OnItemCraft">OnItemCraft</a>
                  </li>
                  <li>
                    <a href="#onblueprintuse" class="toc-h2 toc-link" data-title="OnBlueprintUse">OnBlueprintUse</a>
                  </li>
                  <li>
                    <a href="#onresearchitem" class="toc-h2 toc-link" data-title="OnResearchItem">OnResearchItem</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#entity-hooks" class="toc-h1 toc-link" data-title="Entity Hooks">Entity Hooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onairdrop" class="toc-h2 toc-link" data-title="OnAirdrop">OnAirdrop</a>
                  </li>
                  <li>
                    <a href="#onhurt" class="toc-h2 toc-link" data-title="OnHurt">OnHurt</a>
                  </li>
                  <li>
                    <a href="#onkilled" class="toc-h2 toc-link" data-title="OnKilled">OnKilled</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#item-hooks" class="toc-h1 toc-link" data-title="Item Hooks">Item Hooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onitemadded" class="toc-h2 toc-link" data-title="OnItemAdded">OnItemAdded</a>
                  </li>
                  <li>
                    <a href="#onitemremoved" class="toc-h2 toc-link" data-title="OnItemRemoved">OnItemRemoved</a>
                  </li>
                  <li>
                    <a href="#onitemdeployed" class="toc-h2 toc-link" data-title="OnItemDeployed">OnItemDeployed</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#structure-hooks" class="toc-h1 toc-link" data-title="Structure Hooks">Structure Hooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#onstructurebuilt" class="toc-h2 toc-link" data-title="OnStructureBuilt">OnStructureBuilt</a>
                  </li>
                  <li>
                    <a href="#onstructuredecay" class="toc-h2 toc-link" data-title="OnStructureDecay">OnStructureDecay</a>
                  </li>
                  <li>
                    <a href="#ondoortoggle" class="toc-h2 toc-link" data-title="OnDoorToggle">OnDoorToggle</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#library-functions" class="toc-h1 toc-link" data-title="Library Functions">Library Functions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#broadcastchat" class="toc-h2 toc-link" data-title="BroadcastChat">BroadcastChat</a>
                  </li>
                  <li>
                    <a href="#broadcastconsole" class="toc-h2 toc-link" data-title="BroadcastConsole">BroadcastConsole</a>
                  </li>
                  <li>
                    <a href="#findplayer" class="toc-h2 toc-link" data-title="FindPlayer">FindPlayer</a>
                  </li>
                  <li>
                    <a href="#privatebindingflag" class="toc-h2 toc-link" data-title="PrivateBindingFlag">PrivateBindingFlag</a>
                  </li>
                  <li>
                    <a href="#quotesafe" class="toc-h2 toc-link" data-title="QuoteSafe">QuoteSafe</a>
                  </li>
                  <li>
                    <a href="#sendchatmessage" class="toc-h2 toc-link" data-title="SendChatMessage">SendChatMessage</a>
                  </li>
                  <li>
                    <a href="#sendconsolemessage" class="toc-h2 toc-link" data-title="SendConsoleMessage">SendConsoleMessage</a>
                  </li>
                  <li>
                    <a href="#useridfromplayer" class="toc-h2 toc-link" data-title="UserIDFromPlayer">UserIDFromPlayer</a>
                  </li>
                  <li>
                    <a href="#notice" class="toc-h2 toc-link" data-title="Notice">Notice</a>
                  </li>
                  <li>
                    <a href="#inventorynotice" class="toc-h2 toc-link" data-title="InventoryNotice">InventoryNotice</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#timers-basic" class="toc-h1 toc-link" data-title="Timers (Basic)">Timers (Basic)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#single-timer" class="toc-h2 toc-link" data-title="Single timer">Single timer</a>
                  </li>
                  <li>
                    <a href="#repeating-timer" class="toc-h2 toc-link" data-title="Repeating timer">Repeating timer</a>
                  </li>
                  <li>
                    <a href="#next-frame-timer" class="toc-h2 toc-link" data-title="Next frame timer">Next frame timer</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#web-requests" class="toc-h1 toc-link" data-title="Web Requests">Web Requests</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#basic-get-method" class="toc-h2 toc-link" data-title="Basic Get method">Basic Get method</a>
                  </li>
                  <li>
                    <a href="#basic-post-method" class="toc-h2 toc-link" data-title="Basic POST method">Basic POST method</a>
                  </li>
                  <li>
                    <a href="#advanced-get-method" class="toc-h2 toc-link" data-title="Advanced GET method">Advanced GET method</a>
                  </li>
                  <li>
                    <a href="#advanced-post-method" class="toc-h2 toc-link" data-title="Advanced POST method">Advanced POST method</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#plugin-calling" class="toc-h1 toc-link" data-title="Plugin Calling">Plugin Calling</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#exposing-a-plugin-39-s-method" class="toc-h2 toc-link" data-title="Exposing a plugin's method">Exposing a plugin's method</a>
                  </li>
                  <li>
                    <a href="#calling-a-plugin-39-s-method" class="toc-h2 toc-link" data-title="Calling a plugin's method">Calling a plugin's method</a>
                  </li>
              </ul>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='getting-started'>Getting Started</h1><pre class="highlight csharp tab-csharp"><code><span class="k">namespace</span> <span class="nn">Oxide.Plugins</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Info</span><span class="p">(</span><span class="s">"EpicStuff"</span><span class="p">,</span> <span class="s">"Unknown"</span><span class="p">,</span> <span class="m">0.1</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Description</span><span class="p">(</span><span class="s">"Makes epic stuff happen"</span><span class="p">)]</span>

    <span class="k">class</span> <span class="nc">EpicStuff</span> <span class="p">:</span> <span class="n">RustLegacyPlugin</span>
    <span class="p">{</span>
        <span class="c1">// The rest of the code and magic</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>The Title variable is what defines your plugin. This should be a unique codename or short description such as Pets.</p>

<p>The Author variable is used to show who made the plugin. This should match your <a href="http://oxidemod.org/">OxideMod.org</a> username if releasing.</p>

<p>The Version variable is used to tell if the plugin is outdated or not, and is incremented with each release. <a href="http://semver.org/">Semantic Versioning</a> recommended.</p>

<p>The Description variable helps explain to users what your plugin does, in case the title isn&#39;t enough. Make it good, but not too long!</p>
<h1 id='universal-hooks'>Universal Hooks</h1>
<p><strong>Available for all supported games</strong></p>

<p><a href="/7-days-to-die"><img src="../images/7-days-to-die/favicon-32x32.png" alt="7 Days to Die" /></a>
<a href="/blockstorm"><img src="../images/blockstorm/favicon-32x32.png" alt="Blockstorm" /></a>
<a href="/hurtworld"><img src="../images/hurtworld/favicon-32x32.png" alt="Hurtworld" /></a>
<a href="/reign-of-kings"><img src="../images/reign-of-kings/favicon-32x32.png" alt="Reign of Kings" /></a>
<a href="/rust"><img src="../images/rust/favicon-32x32.png" alt="Rust" /></a>
<a href="/rust-legacy"><img src="../images/rust-legacy/favicon-32x32.png" alt="Rust Legacy" /></a>
<a href="/the-forest"><img src="../images/the-forest/favicon-32x32.png" alt="The Forest" /></a>
<a href="/unturned"><img src="../images/unturned/favicon-32x32.png" alt="Unturned" /></a></p>
<h2 id='init'>Init</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">Init</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"Init works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a plugin is being initialized</li>
<li>Other plugins may or may not be present, dependant on load order</li>
<li>No return behavior</li>
</ul>
<h2 id='loaded'>Loaded</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">Loaded</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"Loaded works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a plugin has finished loading</li>
<li>Other plugins may or may not be present, dependant on load order</li>
<li>No return behavior</li>
</ul>
<h2 id='unload'>Unload</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">Unload</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"Save files, destroy timers, etc"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a plugin is being unloaded</li>
<li>No return behavior</li>
</ul>
<h2 id='loaddefaultconfig'>LoadDefaultConfig</h2><pre class="highlight csharp tab-csharp"><code><span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">LoadDefaultConfig</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"Default configuration created"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the config for a plugin should be initialized</li>
<li>Only called if the config file does not already exist</li>
<li>No return behavior</li>
</ul>
<h2 id='loaddefaultmessages'>LoadDefaultMessages</h2><pre class="highlight csharp tab-csharp"><code><span class="k">private</span> <span class="k">new</span> <span class="k">void</span> <span class="nf">LoadDefaultMessages</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">lang</span><span class="p">.</span><span class="nf">RegisterMessages</span><span class="p">(</span><span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="s">"Example"</span><span class="p">]</span> <span class="p">=</span> <span class="s">"This is an example message!"</span><span class="p">,</span>
        <span class="p">[</span><span class="s">"AnotherExample"</span><span class="p">]</span> <span class="p">=</span> <span class="s">"Here is another example"</span>
    <span class="p">},</span> <span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the localization for a plugin should be registered</li>
<li>No return behavior</li>
</ul>
<h2 id='onframe'>OnFrame</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnFrame</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnFrame works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called each frame</li>
<li>No return behavior</li>
</ul>
<h2 id='onpluginloaded'>OnPluginLoaded</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPluginLoaded</span><span class="p">(</span><span class="n">Plugin</span> <span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Plugin '{name}' has been loaded"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a plugin has been loaded</li>
<li>No return behavior</li>
</ul>
<h2 id='onpluginunloaded'>OnPluginUnloaded</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPluginUnloaded</span><span class="p">(</span><span class="n">Plugin</span> <span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Plugin '{name}' has been unloaded"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a plugin has been unloaded</li>
<li>No return behavior</li>
</ul>
<h2 id='onserverinitialized'>OnServerInitialized</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnServerInitialized</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnServerInitialized works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called after the server startup has been completed and is awaiting connections</li>
<li>No return behavior</li>
</ul>
<h2 id='onserversave'>OnServerSave</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnServerSave</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnServerSave works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called before the server saves and shuts down</li>
<li>No return behavior</li>
</ul>
<h2 id='onpermissionregistered'>OnPermissionRegistered</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPermissionRegistered</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="n">Plugin</span> <span class="n">owner</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Permission '{name}' has been registered {(owner != null ? $"</span><span class="k">for</span> <span class="p">{</span><span class="n">owner</span><span class="p">.</span><span class="n">Title</span><span class="p">}</span><span class="s">" : "")}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a permission has been registered</li>
<li>No return behavior</li>
</ul>
<h2 id='ongrouppermissiongranted'>OnGroupPermissionGranted</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnGroupPermissionGranted</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">string</span> <span class="n">perm</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Group '{name}' granted permission: {perm}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a permission has been granted to a group</li>
<li>No return behavior</li>
</ul>
<h2 id='ongrouppermissionrevoked'>OnGroupPermissionRevoked</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnGroupPermissionRevoked</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">string</span> <span class="n">perm</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Group '{name}' revoked permission: {perm}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a permission has been revoked from a group</li>
<li>No return behavior</li>
</ul>
<h2 id='ongroupcreated'>OnGroupCreated</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnGroupCreated</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Group '{name}' created!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a group has been created successfully</li>
<li>No return behavior</li>
</ul>
<h2 id='ongroupdeleted'>OnGroupDeleted</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnGroupDeleted</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Group '{name}' deleted!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a group has been deleted successfully</li>
<li>No return behavior</li>
</ul>
<h2 id='ongrouptitleset'>OnGroupTitleSet</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnGroupTitleSet</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">string</span> <span class="n">title</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Title '{title}' set on group '{name}'"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a group title has been updated</li>
<li>No return behavior</li>
</ul>
<h2 id='ongrouprankset'>OnGroupRankSet</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnGroupRankSet</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">int</span> <span class="n">rank</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Rank '{rank}' set on group '{name}'"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a group rank has been updated</li>
<li>No return behavior</li>
</ul>
<h2 id='ongroupparentset'>OnGroupParentSet</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnGroupParentSet</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">string</span> <span class="n">parent</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Parent '{parent}' set on group '{name}'"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a group parent has been updated</li>
<li>No return behavior</li>
</ul>
<h2 id='onusernameupdated'>OnUserNameUpdated</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserNameUpdated</span><span class="p">(</span><span class="kt">string</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">oldName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">newName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Player name changed from {oldName} to {newName} for ID {id}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the LastSeenNickname has been updated in oxides datafile</li>
<li>No return behavior</li>
</ul>
<h2 id='onusergroupadded'>OnUserGroupAdded</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserGroupAdded</span><span class="p">(</span><span class="kt">string</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"User '{id}' added to group: {name}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a player has been added to a group</li>
<li>No return behavior</li>
</ul>
<h2 id='onusergroupremoved'>OnUserGroupRemoved</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserGroupRemoved</span><span class="p">(</span><span class="kt">string</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">name</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Player '{id}' removed from group: {name}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a player has been removed from a group</li>
<li>No return behavior</li>
</ul>
<h2 id='onuserpermissiongranted'>OnUserPermissionGranted</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserPermissionGranted</span><span class="p">(</span><span class="kt">string</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">perm</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Player '{id}' granted permission: {perm}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a permission has been granted to a player</li>
<li>No return behavior</li>
</ul>
<h2 id='onuserpermissionrevoked'>OnUserPermissionRevoked</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserPermissionRevoked</span><span class="p">(</span><span class="kt">string</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">perm</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Player '{id}' revoked permission: {perm}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a permission has been revoked from a player</li>
<li>No return behavior</li>
</ul>
<h2 id='onuserkicked'>OnUserKicked</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserKicked</span><span class="p">(</span><span class="n">IPlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">reason</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Player {player.Name} ({player.Id}) was kicked"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a player has been kicked from the server</li>
<li>No return behavior</li>
</ul>
<h2 id='onuserbanned'>OnUserBanned</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserBanned</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">string</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">address</span><span class="p">,</span> <span class="kt">string</span> <span class="n">reason</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Player {name} ({id}) was banned: {reason}"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a player has been banned from the server</li>
<li>No return behavior</li>
</ul>
<h2 id='onuserunbanned'>OnUserUnbanned</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserUnbanned</span><span class="p">(</span><span class="kt">string</span> <span class="n">name</span><span class="p">,</span> <span class="kt">string</span> <span class="n">id</span><span class="p">,</span> <span class="kt">string</span> <span class="n">ip</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Player {name} ({id}) was unbanned"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a player has been unbanned from the server</li>
<li>No return behavior</li>
</ul>
<h1 id='server-hooks'>Server Hooks</h1><h2 id='onruncommand'>OnRunCommand</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnRunCommand</span><span class="p">(</span><span class="n">ConsoleSystem</span><span class="p">.</span><span class="n">Arg</span> <span class="n">arg</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">reply</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnRunCommand works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Useful for intercepting commands before they get to their intended target (like chat.say)</li>
<li>Return true to override Rust&#39;s command handling system</li>
</ul>
<h2 id='ondatablocksinitialized'>OnDatablocksInitialized</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnDatablocksInitialized</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnDatablocksInitialized works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when all datablocks have been loaded</li>
<li>No return behavior</li>
</ul>
<h2 id='onresourcenodeloaded'>OnResourceNodeLoaded</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnResourceNodeLoaded</span><span class="p">(</span><span class="n">ResourceTarget</span> <span class="n">resource</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnResourceNodeLoaded works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a resource is initializing</li>
<li>No return behavior</li>
</ul>
<h1 id='player-hooks'>Player Hooks</h1><h2 id='onuserapprove'>OnUserApprove</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnUserApprove</span><span class="p">(</span><span class="n">ClientConnection</span> <span class="n">connection</span><span class="p">,</span> <span class="n">uLink</span><span class="p">.</span><span class="n">NetworkPlayerApproval</span> <span class="n">approval</span><span class="p">,</span> <span class="n">ConnectionAcceptor</span> <span class="n">acceptor</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnUserApprove works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Returning true overrides default behavior, plugin should call approval.Deny if it does this</li>
</ul>
<h2 id='canclientlogin'>CanClientLogin</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">CanClientLogin</span><span class="p">(</span><span class="n">ClientConnection</span> <span class="n">connection</span><span class="p">,</span> <span class="n">uLink</span><span class="p">.</span><span class="n">NetworkPlayerApproval</span> <span class="n">approval</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"CanClientLogin works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Returning a uLink.NetworkConnectionError will reject the connection, returning anything else will allow the connection</li>
</ul>
<h2 id='onplayerconnected'>OnPlayerConnected</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerConnected</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnPlayerConnected works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called before the player object is created, but after the player has been approved</li>
<li>No return behavior</li>
</ul>
<h2 id='onplayerdisconnected'>OnPlayerDisconnected</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerDisconnected</span><span class="p">(</span><span class="n">uLink</span><span class="p">.</span><span class="n">NetworkPlayer</span> <span class="n">networkPlayer</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnPlayerDisconnected works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called after the player has disconnected from the server</li>
<li>No return behavior</li>
</ul>
<h2 id='onplayerspawn'>OnPlayerSpawn</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerSpawn</span><span class="p">(</span><span class="n">PlayerClient</span> <span class="n">client</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">usecamp</span><span class="p">,</span> <span class="n">RustProto</span><span class="p">.</span><span class="n">Avatar</span> <span class="n">avatar</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnPlayerSpawn works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the player spawns</li>
<li>No return behavior</li>
</ul>
<h2 id='onplayerchat'>OnPlayerChat</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerChat</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">,</span> <span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnPlayerChat works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the player sends chat to the server</li>
<li>Returning true overrides default behavior of chat, not commands</li>
</ul>
<h2 id='onplayervoice'>OnPlayerVoice</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerVoice</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">uLink</span><span class="p">.</span><span class="n">NetworkPlayer</span><span class="p">&gt;</span> <span class="n">players</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnPlayerVoice works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the player uses in-game voice communication</li>
</ul>
<h2 id='onitemcraft'>OnItemCraft</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnItemCraft</span><span class="p">(</span><span class="n">CraftingInventory</span> <span class="n">inventory</span><span class="p">,</span> <span class="n">BlueprintDataBlock</span> <span class="n">blueprint</span><span class="p">,</span> <span class="kt">int</span> <span class="n">amount</span><span class="p">,</span> <span class="kt">ulong</span> <span class="n">startTime</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnItemCraft works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the player starts crafting an item</li>
<li>Returning true overrides default behavior</li>
</ul>
<h2 id='onblueprintuse'>OnBlueprintUse</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnBlueprintUse</span><span class="p">(</span><span class="n">BlueprintDataBlock</span> <span class="n">blueprint</span><span class="p">,</span> <span class="n">IBlueprintItem</span> <span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnBlueprintUse works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the player tries to study a blueprint</li>
<li>Returning true overrides default behavior</li>
</ul>
<h2 id='onresearchitem'>OnResearchItem</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnResearchItem</span><span class="p">(</span><span class="n">ResearchToolItem</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">item</span><span class="p">,</span> <span class="n">IInventoryItem</span> <span class="n">otherItem</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnResearchItem works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the player tries to research an item</li>
<li>Returning a InventoryItem.MergeResult will cancel default behavior</li>
</ul>
<h1 id='entity-hooks'>Entity Hooks</h1><h2 id='onairdrop'>OnAirdrop</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnAirdrop</span><span class="p">(</span><span class="n">Vector3</span> <span class="n">position</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnAirdrop works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when an airdrop has been called</li>
<li>No return behavior</li>
</ul>
<h2 id='onhurt'>OnHurt</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnHurt</span><span class="p">(</span><span class="n">TakeDamage</span> <span class="n">damage</span><span class="p">,</span> <span class="n">DamageEvent</span> <span class="n">evt</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnHurt works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when any kind of entity takes damage</li>
<li>No return behavior</li>
</ul>
<h2 id='onkilled'>OnKilled</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnKilled</span><span class="p">(</span><span class="n">TakeDamage</span> <span class="n">damage</span><span class="p">,</span> <span class="n">DamageEvent</span> <span class="n">evt</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnKilled works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when any kind of entity was killed</li>
<li>No return behavior</li>
</ul>
<h1 id='item-hooks'>Item Hooks</h1><h2 id='onitemadded'>OnItemAdded</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnItemAdded</span><span class="p">(</span><span class="n">Inventory</span> <span class="n">inventory</span><span class="p">,</span> <span class="kt">int</span> <span class="n">slot</span><span class="p">,</span> <span class="n">IInventoryItem</span> <span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnItemAdded works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when an item was added to an inventory</li>
<li>No return behavior</li>
</ul>
<h2 id='onitemremoved'>OnItemRemoved</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnItemRemoved</span><span class="p">(</span><span class="n">Inventory</span> <span class="n">inventory</span><span class="p">,</span> <span class="kt">int</span> <span class="n">slot</span><span class="p">,</span> <span class="n">IInventoryItem</span> <span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnItemRemoved works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when an item was removed from an inventory</li>
<li>No return behavior</li>
</ul>
<h2 id='onitemdeployed'>OnItemDeployed</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnItemDeployed</span><span class="p">(</span><span class="n">DeployableObject</span> <span class="n">deployable</span><span class="p">,</span> <span class="n">IDeployableItem</span> <span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnItemDeployed works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when an item was deployed by a player</li>
<li>No return behavior</li>
</ul>
<h1 id='structure-hooks'>Structure Hooks</h1><h2 id='onstructurebuilt'>OnStructureBuilt</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnStructureBuilt</span><span class="p">(</span><span class="n">StructureComponent</span> <span class="n">component</span><span class="p">,</span> <span class="n">IStructureComponentItem</span> <span class="n">item</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnStructureBuilt works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when an structure was built by a player</li>
<li>No return behavior</li>
</ul>
<h2 id='onstructuredecay'>OnStructureDecay</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnStructureDecay</span><span class="p">(</span><span class="n">StructureMaster</span> <span class="n">master</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnStructureDecay works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when a structure tries to decay</li>
<li>Returning true overrides default behavior</li>
</ul>
<h2 id='ondoortoggle'>OnDoorToggle</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnDoorToggle</span><span class="p">(</span><span class="n">BasicDoor</span> <span class="n">door</span><span class="p">,</span> <span class="kt">ulong</span> <span class="n">timestamp</span><span class="p">,</span> <span class="n">Controllable</span> <span class="n">controllable</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"OnDoorToggle works!"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<ul>
<li>Called when the player attempts to open or close a door</li>
<li>Returning true allows the state of the door to be toggled and returning false denies the state of the door being toggled, returning anything else will resume default behavior</li>
</ul>
<h1 id='library-functions'>Library Functions</h1>
<p>There are a few functions that have been added to wrap Rust Legacy functions, creating aliases of sorts to make your life easier during initial coding as well as during upgrades.</p>
<h2 id='broadcastchat'>BroadcastChat</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerConnected</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">PrintToChat</span><span class="p">(</span><span class="err">$</span><span class="s">"{netUser.displayName} has joined the server"</span><span class="p">));</span>
<span class="p">}</span>
</code></pre>
<p>Sends a chat message to all players.</p>

<p><code>rust.BroadcastChat(string message, object[] args)</code></p>
<h2 id='broadcastconsole'>BroadcastConsole</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerConnected</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">PrintToConsole</span><span class="p">(</span><span class="err">$</span><span class="s">"{netUser.displayName} has joined the server"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<p>Prints a message to all players&#39; in-game console</p>

<p><code>rust.BroadcastConsole(string message, object[] args)</code></p>
<h2 id='findplayer'>FindPlayer</h2><pre class="highlight csharp tab-csharp"><code><span class="p">[</span><span class="nf">ChatCommand</span><span class="p">(</span><span class="s">"ex"</span><span class="p">)</span>
<span class="k">void</span> <span class="nf">Example</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">NetUser</span> <span class="n">target</span> <span class="p">=</span> <span class="n">rust</span><span class="p">.</span><span class="nf">FindPlayer</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="m">0</span><span class="p">]);</span>
<span class="p">}</span>
</code></pre>
<p>Searches for an online player by name, steam id or ip. Returns a netUser if a player is found, otherwise null is returned.</p>

<p><code>rust.FindPlayer(string nameOrSteamIdOrIp)</code></p>
<h2 id='privatebindingflag'>PrivateBindingFlag</h2><pre class="highlight csharp tab-csharp"><code><span class="n">rust</span><span class="p">.</span><span class="nf">PrivateBindingFlag</span><span class="p">()</span>
</code></pre>
<p>This should not be used in C# plugins, Reflection should be used instead</p>

<p>Used to get/set private methods, fields, and properties through Reflection.</p>

<p><code>rust.PrivateBindingFlag()</code></p>
<h2 id='quotesafe'>QuoteSafe</h2><pre class="highlight csharp tab-csharp"><code><span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Use /kick \"playername\" to kick player"</span><span class="p">;</span>
<span class="n">message</span><span class="p">.</span><span class="nf">QuoteSafe</span><span class="p">();</span>
</code></pre>
<p>Used to safely save text or send a message that contains quotation marks.</p>

<p><code>rust.QuoteSafe(message)</code></p>
<h2 id='sendchatmessage'>SendChatMessage</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerSpawn</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"You've respawned from a terrible death"</span><span class="p">;</span>
    <span class="n">rust</span><span class="p">.</span><span class="nf">SendChatMessage</span><span class="p">({</span> <span class="n">netUser</span><span class="p">,</span> <span class="n">message</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre>
<p>Sends a chat message to specified player.</p>

<p><code>rust.SendChatMessage(NetUser netUser, string message, object[] args)</code></p>
<h2 id='sendconsolemessage'>SendConsoleMessage</h2><pre class="highlight csharp tab-csharp"><code><span class="k">void</span> <span class="nf">OnPlayerSpawn</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"You've respawned from a terrible death"</span><span class="p">;</span>
    <span class="n">rust</span><span class="p">.</span><span class="nf">SendConsoleMessage</span><span class="p">({</span> <span class="n">netUser</span><span class="p">,</span> <span class="n">message</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre>
<p>Sends a console message to specified player&#39;s console.</p>

<p><code>rust.SendConsoleMessage(NetUser netUser, string message, object[] args)</code></p>
<h2 id='useridfromplayer'>UserIDFromPlayer</h2><pre class="highlight csharp tab-csharp"><code><span class="na">[ChatCommand("id")]</span>
<span class="k">void</span> <span class="nf">ChatId</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">SendReply</span><span class="p">(</span><span class="n">netUser</span><span class="p">,</span> <span class="s">"Your ID is: "</span> <span class="p">+</span> <span class="n">netUser</span><span class="p">.</span><span class="n">userID</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
<span class="p">}</span>
</code></pre>
<p>Gets the user ID (64-bit SteamID) as a string of an online player.</p>

<p><code>rust.UserIDFromPlayer(NetUser netUser)</code></p>
<h2 id='notice'>Notice</h2><pre class="highlight csharp tab-csharp"><code><span class="na">[ChatCommand("notice")]</span>
<span class="k">void</span> <span class="nf">cmdNotice</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Notice Demo"</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">icon</span> <span class="p">=</span> <span class="s">"!"</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">duration</span> <span class="p">=</span> <span class="m">4f</span><span class="p">;</span>
    <span class="n">rust</span><span class="p">.</span><span class="nf">Notice</span><span class="p">(</span><span class="n">netUser</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">icon</span><span class="p">,</span> <span class="n">duration</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<p>Sends a notice to the player at the top of the screen.</p>

<p><code>rust.Notice(NetUser netUser, string message, string icon, float duration)</code></p>
<h2 id='inventorynotice'>InventoryNotice</h2><pre class="highlight csharp tab-csharp"><code><span class="na">[ChatCommand("notice")]</span>
<span class="k">void</span> <span class="nf">cmdNotice</span><span class="p">(</span><span class="n">NetUser</span> <span class="n">netUser</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"InventoryNotice Demo"</span><span class="p">;</span>
    <span class="n">rust</span><span class="p">.</span><span class="nf">InventoryNotice</span><span class="p">(</span><span class="n">netUser</span><span class="p">,</span> <span class="n">message</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<p>Sends a notice to the player on the right side of the screen right above the player&#39;s health bar.</p>

<p><code>rust.InventoryNotice(NetUser netUser, string message)</code></p>
<h1 id='timers-basic'>Timers (Basic)</h1>
<p>Timers are great for delaying code, allowing it to be run later.</p>
<h2 id='single-timer'>Single timer</h2><pre class="highlight csharp tab-csharp"><code><span class="n">timer</span><span class="p">.</span><span class="nf">Once</span><span class="p">(</span><span class="m">3f</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"Hello world!"</span><span class="p">)</span>
<span class="p">});</span>
</code></pre>
<p>Executes the specified function once after the specified delay.</p>
<h2 id='repeating-timer'>Repeating timer</h2><pre class="highlight csharp tab-csharp"><code><span class="n">timer</span><span class="p">.</span><span class="nf">Repeat</span><span class="p">(</span><span class="m">5f</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"Hello world!"</span><span class="p">)</span>
<span class="p">});</span>
</code></pre>
<p>Executes the specified function every &quot;delay&quot; seconds.</p>

<p>If &quot;repeats&quot; is specified, the function will only be called &quot;repeats&quot; times.</p>
<h2 id='next-frame-timer'>Next frame timer</h2><pre class="highlight csharp tab-csharp"><code><span class="nf">NextFrame</span><span class="p">(()</span> <span class="p">=&gt;</span>
<span class="p">{</span>
    <span class="nf">Puts</span><span class="p">(</span><span class="s">"Hello world!"</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Executes the specified function at the next frame.</p>
<h1 id='web-requests'>Web Requests</h1>
<p>Web requests allow you to send a HTTP GET or POST to a specified URL.</p>

<p>The request will return true if the web request was sent, false if not. The callback is called with 2 parameters - an integer HTTP response code and a string response.</p>
<h2 id='basic-get-method'>Basic Get method</h2><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Oxide.Core.Libraries.Covalence</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Oxide.Plugins</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Info</span><span class="p">(</span><span class="s">"EpicStuff"</span><span class="p">,</span> <span class="s">"Unknown"</span><span class="p">,</span> <span class="m">1.0</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Description</span><span class="p">(</span><span class="s">"This example illustrates how to use a GET WebRequest"</span><span class="p">)]</span>

    <span class="k">class</span> <span class="nc">EpicStuff</span> <span class="p">:</span> <span class="n">CovalencePlugin</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="nf">Command</span><span class="p">(</span><span class="s">"get"</span><span class="p">)]</span>
        <span class="k">void</span> <span class="nf">GetRequest</span><span class="p">(</span><span class="n">IPlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">webrequest</span><span class="p">.</span><span class="nf">EnqueueGet</span><span class="p">(</span><span class="s">"http://www.google.com/search?q=oxide"</span><span class="p">,</span> <span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nf">GetCallback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">player</span><span class="p">),</span> <span class="k">this</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">void</span> <span class="nf">GetCallback</span><span class="p">(</span><span class="kt">int</span> <span class="n">code</span><span class="p">,</span> <span class="kt">string</span> <span class="n">response</span><span class="p">,</span> <span class="n">IPlayer</span> <span class="n">player</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">response</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">code</span> <span class="p">!=</span> <span class="m">200</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Error: {code} - Couldn't get an answer from Google for {player.Name}"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Google answered for {player.Name}: {response}"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>This uses the raw connection to a web page as you would on your browser.</p>
<h2 id='basic-post-method'>Basic POST method</h2><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Oxide.Core.Libraries.Covalence</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Oxide.Plugins</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Info</span><span class="p">(</span><span class="s">"EpicStuff"</span><span class="p">,</span> <span class="s">"Unknown"</span><span class="p">,</span> <span class="m">1.0</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Description</span><span class="p">(</span><span class="s">"This example illustrates how to use a POST WebRequest"</span><span class="p">)]</span>

    <span class="k">class</span> <span class="nc">EpicStuff</span> <span class="p">:</span> <span class="n">CovalencePlugin</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="nf">Command</span><span class="p">(</span><span class="s">"post"</span><span class="p">)]</span>
        <span class="k">void</span> <span class="nf">PostRequest</span><span class="p">(</span><span class="n">IPlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">webrequest</span><span class="p">.</span><span class="nf">EnqueuePost</span><span class="p">(</span><span class="s">"http://www.google.com/search?q=oxide"</span><span class="p">,</span> <span class="s">"param1=value1&amp;param2=value2"</span><span class="p">,</span> <span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nf">PostCallback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">player</span><span class="p">),</span> <span class="k">this</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">void</span> <span class="nf">PostCallback</span><span class="p">(</span><span class="kt">int</span> <span class="n">code</span><span class="p">,</span> <span class="kt">string</span> <span class="n">response</span><span class="p">,</span> <span class="n">IPlayer</span> <span class="n">player</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">response</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">code</span> <span class="p">!=</span> <span class="m">200</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Error: {code} - Couldn't get an answer from Google for {player.Name}"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nf">Puts</span><span class="p">(</span><span class="s">"Google answered for "</span> <span class="p">+</span> <span class="n">player</span><span class="p">.</span><span class="n">Name</span> <span class="p">+</span> <span class="s">": "</span> <span class="p">+</span> <span class="n">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><h2 id='advanced-get-method'>Advanced GET method</h2><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Oxide.Core.Libraries.Covalence</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Oxide.Plugins</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Info</span><span class="p">(</span><span class="s">"EpicStuff"</span><span class="p">,</span> <span class="s">"Unknown"</span><span class="p">,</span> <span class="m">1.0</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Description</span><span class="p">(</span><span class="s">"This example illustrates how to use a GET WebRequest"</span><span class="p">)]</span>

    <span class="k">class</span> <span class="nc">EpicStuff</span> <span class="p">:</span> <span class="n">CovalencePlugin</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="nf">Command</span><span class="p">(</span><span class="s">"get"</span><span class="p">)]</span>
        <span class="k">void</span> <span class="nf">GetRequest</span><span class="p">(</span><span class="n">IPlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Set a custom timeout (in milliseconds)</span>
            <span class="kt">var</span> <span class="n">timeout</span> <span class="p">=</span> <span class="m">200f</span><span class="p">;</span>

            <span class="c1">// Set some custom request headers (eg. for HTTP Basic Auth)</span>
            <span class="kt">var</span> <span class="n">headers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="p">{</span> <span class="s">"header"</span><span class="p">,</span> <span class="s">"value"</span> <span class="p">}</span> <span class="p">};</span>

            <span class="n">webrequest</span><span class="p">.</span><span class="nf">EnqueueGet</span><span class="p">(</span><span class="s">"http://www.google.com/search?q=oxide"</span><span class="p">,</span> <span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nf">GetCallback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">player</span><span class="p">),</span> <span class="k">this</span><span class="p">,</span> <span class="n">headers</span><span class="p">,</span> <span class="n">timeout</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">void</span> <span class="nf">GetCallback</span><span class="p">(</span><span class="kt">int</span> <span class="n">code</span><span class="p">,</span> <span class="kt">string</span> <span class="n">response</span><span class="p">,</span> <span class="n">IPlayer</span> <span class="n">player</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">response</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">code</span> <span class="p">!=</span> <span class="m">200</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Error: {code} - Couldn't get an answer from Google for {player.Name}"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>

            <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Google answered for {player.Name}: {response}"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><h2 id='advanced-post-method'>Advanced POST method</h2><pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">Oxide.Core.Libraries.Covalence</span><span class="p">;</span>

<span class="k">namespace</span> <span class="nn">Oxide.Plugins</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Info</span><span class="p">(</span><span class="s">"EpicStuff"</span><span class="p">,</span> <span class="s">"Unknown"</span><span class="p">,</span> <span class="m">1.0</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Description</span><span class="p">(</span><span class="s">"This example illustrates how to use a POST WebRequest"</span><span class="p">)]</span>

    <span class="k">class</span> <span class="nc">EpicStuff</span> <span class="p">:</span> <span class="n">CovalencePlugin</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="nf">Command</span><span class="p">(</span><span class="s">"post"</span><span class="p">)]</span>
        <span class="k">void</span> <span class="nf">PostRequest</span><span class="p">(</span><span class="n">IPlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Set a timeout (in milliseconds)</span>
            <span class="kt">var</span> <span class="n">timeout</span> <span class="p">=</span> <span class="m">200f</span><span class="p">;</span>

            <span class="c1">// Set some custom request headers (eg. for HTTP Basic Auth)</span>
            <span class="kt">var</span> <span class="n">headers</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="p">{</span> <span class="s">"header"</span><span class="p">,</span> <span class="s">"value"</span> <span class="p">}</span> <span class="p">};</span>

            <span class="n">webrequest</span><span class="p">.</span><span class="nf">EnqueuePost</span><span class="p">(</span><span class="s">"http://www.google.com/search?q=oxide"</span><span class="p">,</span> <span class="s">"param1=value1&amp;param2=value2"</span><span class="p">,</span> <span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nf">PostCallback</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">player</span><span class="p">),</span> <span class="k">this</span><span class="p">,</span> <span class="n">headers</span><span class="p">,</span> <span class="n">timeout</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">void</span> <span class="nf">PostCallback</span><span class="p">(</span><span class="kt">int</span> <span class="n">code</span><span class="p">,</span> <span class="kt">string</span> <span class="n">response</span><span class="p">,</span> <span class="n">IPlayer</span> <span class="n">player</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">response</span> <span class="p">==</span> <span class="k">null</span> <span class="p">||</span> <span class="n">code</span> <span class="p">!=</span> <span class="m">200</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">Puts</span><span class="p">(</span><span class="err">$</span><span class="s">"Error: {code} - Couldn't get an answer from Google for {player.Name}"</span><span class="p">);</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nf">Puts</span><span class="p">(</span><span class="s">"Google answered for "</span> <span class="p">+</span> <span class="n">player</span><span class="p">.</span><span class="n">Name</span> <span class="p">+</span> <span class="s">": "</span> <span class="p">+</span> <span class="n">response</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><h1 id='plugin-calling'>Plugin Calling</h1>
<p>Oxide allows you to expose methods in your plugin and make them available to other plugins. This allows you to access objects or properties from other plugins without having to replicate functionality yourself.</p>
<h2 id='exposing-a-plugin-39-s-method'>Exposing a plugin&#39;s method</h2><pre class="highlight csharp tab-csharp"><code><span class="k">namespace</span> <span class="nn">Oxide.Plugins</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Info</span><span class="p">(</span><span class="s">"EpicStuff"</span><span class="p">,</span> <span class="s">"Unknown"</span><span class="p">,</span> <span class="m">0.1</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Description</span><span class="p">(</span><span class="s">"Makes epic stuff happen"</span><span class="p">)]</span>
    <span class="k">class</span> <span class="nc">EpicStuff</span> <span class="p">:</span> <span class="n">CovalencePlugin</span>
    <span class="p">{</span>
        <span class="c1">// Plugin methods can be a simple bool that is returned</span>
        <span class="kt">bool</span> <span class="nf">GetReturn</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Plugin methods can take parameters and return simple types</span>
        <span class="kt">string</span> <span class="nf">TakeParam</span><span class="p">(</span><span class="kt">string</span> <span class="n">param</span><span class="p">,</span> <span class="kt">int</span> <span class="n">secondParam</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">param</span> <span class="p">==</span> <span class="s">"first parameter"</span><span class="p">)</span> <span class="k">return</span> <span class="n">param</span><span class="p">;</span>
            <span class="k">else</span> <span class="k">return</span> <span class="s">"First parameter didn't match!"</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// To return complex types, they should first be converted</span>
        <span class="c1">// into builtin types (e.g. JSON.net types like JObject, JArray, etc. or builtin</span>
        <span class="c1">// collections like System.Collections.Generic.Dictionary)</span>
        <span class="n">JObject</span> <span class="nf">ReturnObject</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">myObject</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">JObject</span><span class="p">();</span>
            <span class="n">myObject</span><span class="p">[</span><span class="s">"key"</span><span class="p">]</span> <span class="p">=</span> <span class="s">"value"</span><span class="p">;</span>
            <span class="n">myObject</span><span class="p">[</span><span class="s">"array"</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">JArray</span><span class="p">();</span>
            <span class="k">return</span> <span class="n">myObject</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Plugin methods don't have to return something</span>
        <span class="k">void</span> <span class="nf">SendMessage</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="nf">Puts</span><span class="p">(</span><span class="s">"You just called the 'SendMessage' method!"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>Exposing a plugin&#39;s method allows other plugins to call that method.</p>

<p>For example, you could write a plugin that does some player management, then allow other plugins to &quot;query&quot; it to get a list of players who have certain privileges set in the original plugin.</p>
<h2 id='calling-a-plugin-39-s-method'>Calling a plugin&#39;s method</h2><pre class="highlight csharp tab-csharp"><code><span class="k">namespace</span> <span class="nn">Oxide.Plugins</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Info</span><span class="p">(</span><span class="s">"SecondEpicStuff"</span><span class="p">,</span> <span class="s">"Unknown"</span><span class="p">,</span> <span class="m">0.1</span><span class="p">)]</span>
    <span class="p">[</span><span class="nf">Description</span><span class="p">(</span><span class="s">"Makes more epic stuff happen"</span><span class="p">)]</span>
    <span class="k">class</span> <span class="nc">SecondEpicStuff</span> <span class="p">:</span> <span class="n">CovalencePlugin</span>
    <span class="p">{</span>
        <span class="c1">// First, add a reference to the plugin you are trying to call</span>
        <span class="c1">// The name of this field needs to be the exact name of the desired plugin</span>
        <span class="c1">// eg. We are referencing the example plugin above which is called 'EpicStuff'</span>
        <span class="p">[</span><span class="n">PluginReference</span><span class="p">]</span>
        <span class="n">Plugin</span> <span class="n">EpicStuff</span><span class="p">;</span>

        <span class="c1">// It's a good idea to check if the plugin you're trying to call</span>
        <span class="c1">// has been loaded by oxide (otherwise you can't call the method)</span>
        <span class="k">void</span> <span class="nf">OnServerInitialized</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Note: Trying to do this check in the plugin Init() method may</span>
            <span class="c1">// fail, as the plugin load order may be different each time</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">EpicStuff</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">PrintWarning</span><span class="p">(</span><span class="s">"Plugin 'EpicStuff' was not found!"</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">void</span> <span class="nf">CallPlugin</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="c1">// Plugin methods return objects, so cast the API call to the type</span>
            <span class="c1">// you're expecting</span>
            <span class="kt">var</span> <span class="n">getTypedReturn</span> <span class="p">=</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span><span class="n">EpicStuff</span><span class="p">?.</span><span class="nf">Call</span><span class="p">(</span><span class="s">"GetReturn"</span><span class="p">);</span>

            <span class="c1">// Send parameters through as variables after the method name</span>
            <span class="kt">var</span> <span class="n">takeParam</span> <span class="p">=</span> <span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="n">EpicStuff</span><span class="p">?.</span><span class="nf">Call</span><span class="p">(</span><span class="s">"TakeParam"</span><span class="p">,</span> <span class="s">"param1"</span><span class="p">,</span> <span class="m">1024</span><span class="p">);</span>

            <span class="c1">// Use JSON.net to process the returned object</span>
            <span class="kt">var</span> <span class="n">returnedObject</span> <span class="p">=</span> <span class="n">EpicStuff</span><span class="p">?.</span><span class="nf">Call</span><span class="p">(</span><span class="s">"ReturnObject"</span><span class="p">);</span>

            <span class="c1">// Call a plugin to do some work without returning anything</span>
            <span class="n">EpicStuff</span><span class="p">?.</span><span class="nf">Call</span><span class="p">(</span><span class="s">"SendMessage"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>Calling a plugin&#39;s method allows you to access results from another plugin.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="csharp">csharp</a>
          </div>
      </div>
    </div>
  </body>
</html>
